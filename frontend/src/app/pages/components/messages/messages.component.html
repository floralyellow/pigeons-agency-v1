<div class="container" *ngIf="this.userList">
    <div class="columns is-multiline">
        <div class="column is-one-fifth">
            Attacker
        </div>
        <div class="column is-one-fifth">
            Defender
        </div>
        <div class="column is-two-fifths">
            Result
        </div>
        <div class="column is-one-fifth">
            Detail
        </div>
        <div class="column is-full card mb-3 has-text-white" [ngClass]="message.winner_id === user.id? 'has-background-success' : 'has-background-danger'" *ngFor="let message of messages">
            <div class="columns m-auto">
                <div class="column is-one-fifth">
                    {{getUser(message.attacker)}}
                </div>
                <div class="column is-one-fifth">
                    {{getUser(message.defender)}}
                </div>
                <div class="column is-two-fifths">
                    {{getUser(message.winner_id)}} won
                </div>
                <div class="column is-one-fifth">
                    <fa-icon class="is-clickable" [icon]="faEye" (click)="openModal(message.id)"></fa-icon>
                </div>
            </div>
        </div>
    </div>
    <app-modal
      [title]="modalTitle"
      [headerBackground]="modalHeaderBackground">
      <div class="columns is-multiline is-mobile has-text-centered" *ngIf="modal && attackResult">
        <div class="column is-two-fifths pigeons">
          Attacker ({{getUser(attackResult.attacker)}}) <br>
          <app-attack-pigeon class="my-1" *ngFor="let attackPigeon of attackPigeons" [pigeon]="attackPigeon"></app-attack-pigeon>
        </div>
        <div class="column is-size-4 is-one-fifths vs">
          {{attackResult.atk_tot_score}} VS {{attackResult.def_tot_score}}
        </div>
        <div class="column is-two-fifths pigeons">
          Defender ({{getUser(attackResult.defender)}}) <br>
          <app-attack-pigeon class="my-1" *ngFor="let defendPigeon of defensePigeons" [pigeon]="defendPigeon"></app-attack-pigeon>
        </div>

        <div class="column is-half" *ngIf="attackResult">
          You<br>
          <fa-icon [icon]="faFistRaised"></fa-icon>
          {{attackResult.atk_tot_phys}}<br>
          <fa-icon [icon]="faHatWizard"></fa-icon>
          {{attackResult.atk_tot_magic}}<br>
          <fa-icon [icon]="faShieldAlt"></fa-icon>
          ({{attackResult.atk_shield_blocs}} block<span *ngIf="attackResult.atk_shield_blocs > 1">s</span>)
        </div>
        <div class="column is-half">
          Oponent<br>
          <fa-icon [icon]="faFistRaised"></fa-icon>
          {{attackResult.def_tot_phys}}<br>
          <fa-icon [icon]="faHatWizard"></fa-icon>
          {{attackResult.def_tot_magic}}<br>
          <fa-icon [icon]="faShieldAlt"></fa-icon>
          ({{attackResult.def_shield_blocs}} block<span *ngIf="attackResult.def_shield_blocs > 1">s</span>)
        </div>
      </div>
    </app-modal>
</div>